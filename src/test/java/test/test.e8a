

SECTION entry 
	ADDRESS 64
	
entry:
	CALL $setup_system.setup_interrupts;
	JMP $main.main;
	
SECTION main
	ADDRESS ANYWHERE
	
main: 
	HLT;
	
SECTION setup_system
	ADDRESS ANYWHERE
	
setup_interrupts:
	LCONST16 $interrupt_handlers.fault_interrupt;
	STORE16 0;
	LCONST16 $interrupt_handlers.hw_interrupt;
	STORE16 16;
	LCONST16 $interrupt_handlers.sw_interrupt;
	STORE16 32;
	LCONST16 $interrupt_handlers.db_interrupt;
	STORE16 48;
	RET;
	
SECTION interrupt_handlers
	ADDRESS ANYWHERE
	
fault_interrupt: 
	NOP;
	
hw_interrupt: 
	NOP;
	
sw_interrupt: 
	NOP;

db_interrupt: 
	NOP;

